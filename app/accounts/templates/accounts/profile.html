{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>_'s Profile</title>

    <script src="{% static 'app/js/global-script.js' %}"></script>
    <script src="{% static 'app/js/navbar.js' %}"></script>
    <script src="{% static 'app/js/thread-highlight.js' %}"></script>
    <script src="{% static 'app/js/text-editor.js' %}"></script>
    <script src="{% static 'accounts/js/profile.js' %}" defer></script>
    <link rel="stylesheet" type="text/css" href="{% static 'app/css/global-style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'core/css/home.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'accounts/css/profile.css' %}">
</head>
<body>
    <nav-bar 
        logged-in="{{ user.is_authenticated }}"
        username = "{{ user.username }}"
        home-link = "{% url 'home' %}"
        login-link = "{% url 'login' %}"
        register-link = "{% url 'register' %}">
    </nav-bar>

    <div id="user-info-bar" data-active="true">
        <div id="user-info">
            <p id="user-name">{{ profile.user.username }}</p>
            <p id="user-joined">Joined: {{ profile.user.date_joined }}</p>
            <p id="user-bio">{{ profile.user.bio }}</p>
        </div>

        <div id="user-connections">
            <div id="direct-connections">
                <div class="connection-stat">
                    <p class="statistic-text">Observes</p>
                    <p id="user-followers" class="statistics-number">2.5K</p>
                </div>
                <div class="connection-stat">
                    <p class="statistic-text">Observed By</p>
                    <p id="user-following" class="statistics-number">3.7K</p>
                </div>
            </div>
            <button id="follow-status-button" class="primary-button" data-following="true">Observe</button>
        </div>
    </div>

    <!-- Populated by JS from the database -->
    <div class="new-posts-highlight">
        <h1>Threads</h1>
        <div class="thread-highlights" id="thread-highlights">

            {% for thread in threads %}
                <thread-highlight 
                    user-name="{{ profile.user.username }}"
                    user-profile-link="{% url 'profile-by-username' thread.creator.username %}" 
                    title="{{ thread.title }}"
                    thread-link="{% url 'thread_detail' thread.id %}"></thread-highlight>
            {% endfor %}

        </div>
    </div>
</body>
</html>